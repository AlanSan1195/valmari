---
import Candys from "@/components/Candys.astro";
import {
  navLinks,
  whatsappNumber,
  whatsappMessage,
} from "@/services/constantes";
import packs from "@/data/packs.json";

const whatsapp = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(whatsappMessage)}`;
---

<section
  id="packs"
  class="max-w-[1450px] flex-col items-center justify-center px-4 md:mx-auto"
  aria-label="Paquetes para tu fiesta "
>
  <!-- <div class="h-16 md:h-20 w-full bg-primary mt-30 md:mt-48"></div> -->
  <div
    class="h-auto w-full flex flex-col items-center justify-center mt-24 md:mt-40 gap-y-10 relative"
  >
    <h2 class="font-mango text-center text-2xl md:text-5xl font-semibold uppercase">
      <span class="text-primary text-5xl md:text-8xl font-bold">.</span>
      Nuestros paquetes <span
        class="text-primary text-5xl md:text-8xl font-bold">.</span
      >
    </h2>

    <div
      class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-y-16 md:gap-x-18 md:px-8  md:mt-20 py-2 justify-center items-center mx-auto"
    >
      {
        packs.map((pack) => (
          <article
            class="flex-col px-4 relative group w-auto h-auto"
            role="listitem"
          >
            <a
              href={whatsapp}
              class="opacity-0 absolute -rotate-90 -left-40 bottom-55 uppercase font-mango m-0 p-0 text-5xl font-bold md:group-hover:transform md:group-hover:opacity-100 md:group-hover:-translate-x-8 transition duration-400 hover:cursor-pointer"
              target="_blank"
              rel="noopener noreferrer"
            >
              Apartar fecha
            </a>
            <a
              href={whatsapp}
              target="_blank"
              rel="noopener noreferrer"
              class={`flex `}
            >
              <p
                class={`flex absolute -top-8 left-1/2 transform -translate-x-1/2 md:hidden font-bold text-lg text-center justify-center mb-2 uppercase ${pack.reserveButtonColor}`}
              >
                Reservar
              </p>

              <div
                class={`${pack.bgColor} rounded-3xl h-auto w-full flex flex-col px-4 md:hover:transform md:hover:translate-x-6 md:hover:-translate-y-6 md:hover:bg-transparent duration-500 ease-in-out z-10`}
              >
                <img
                  src={pack.image}
                  alt={pack.imageAlt}
                  class="m-auto h-[270px] w-auto"
                  loading="lazy"
                />
                <div class="relative my-8 md:my-10">
                  <header>
                    <p
                      class={`${pack.textColor} md:group-hover:text-black font-mango uppercase text-xl`}
                    >
                      {pack.name}
                    </p>
                    <p
                      class={`${pack.titleColor} font-mango uppercase font-extrabold text-[20px] md:text-[23px] md:group-hover:opacity-0 duration-100`}
                    >
                      {pack.title}
                    </p>
                    <p
                      id={`desc-pack${pack.id}`}
                      class={`md:hidden font-mango text-white text-sm`}
                    >
                      {pack.description}
                    </p>
                    <span
                      class={`text-sm font-bold md:hidden ${pack.titleColor}`}
                    >
                      {pack.capacity}
                    </span>
                  </header>
                  <div class="opacity-0 flex flex-col absolute -bottom-4 md:group-hover:opacity-100 md:transition-opacity">
                    <p class="text-xl">{pack.description}</p>
                    <span class="text-xl font-bold">Entre {pack.capacity}</span>
                  </div>
                </div>
              </div>
            </a>
          </article>
        ))
      }
    </div>
  </div>
  <Candys />
</section>
