---
import teamData from "@/data/team.json";
const { members, service } = teamData;
---

<section
  id="nosotros"
  class="flex flex-col h-full relative items-center justify-center my-20"
  aria-labelledby="nosotros-heading"
>
  <!-- Background animado con el logo -->
  <figure class="relative h-auto w-full flex items-center flex-nowrap " aria-hidden="true">
    <img
      src="/fontBig.svg"
      alt=""
      class="valamri-font-big max-w-none h-[110dvh] w-auto"
      loading="lazy"
    />
    <img
      src="/fontBig.svg"
      alt=""
      class="valamri-font-big max-w-none h-[110dvh] w-auto"
      loading="lazy"
    />
  </figure>

  <div class="absolute inset-0 flex justify-center items-center">
    <!-- Checkbox oculto para manejar el estado -->
    <input 
      type="checkbox" 
      id="toggle-grid" 
      class="peer hidden" 
      aria-label="Mostrar información sobre nosotros"
    />

    <!-- Botón interactivo con efecto de anillo -->
    <label
      id="ring-button"
      for="toggle-grid"
      class="w-72 h-72 rounded-full before:border-primary before:content-[''] before:absolute before:inset-0 before:rounded-full before:border-3 before:blur-xs border-primary group flex justify-center items-center content-center hover:cursor-pointer hover:scale-105 peer-checked:opacity-0 peer-checked:pointer-events-none transition-all duration-300 ease-out z-20 overflow-hidden"
    >
      <div
        class="bg-primary w-full h-full rounded-full -translate-y-full justify-center content-center items-center group-hover:translate-y-0 group-focus:translate-y-0 transition-transform duration-600 flex relative"
      >
        <h2
          class="font-mango uppercase text-2xl text-center font-semibold mx-auto"
        >
          ¿Quiénes somos?
        </h2>
      </div>
    </label>

    <!-- Modal con información del equipo -->
    <div
      class="fixed inset-0 opacity-0 scale-0 peer-checked:opacity-100 peer-checked:scale-100 transition-all duration-400 ease-out pointer-events-none peer-checked:pointer-events-auto flex justify-center items-center"
      role="dialog"
      aria-modal="true"
      aria-labelledby="nosotros-heading"
    >
      <!-- Backdrop con blur -->
      <div class="absolute inset-0 -z-10 h-full w-full fade-backdrop" aria-hidden="true"></div>
      
      <!-- Contenedor principal -->
      <div class="w-full h-full p-4 md:p-8 flex justify-center items-center gap-4">
        <!-- Card circular con información -->
        <article
          class="bg-primary w-full  h-[110dvh] rounded-full flex flex-col items-center justify-center relative px-4 md:px-32"
        >
          <div class="flex flex-col items-center justify-center px-6 md:px-10 py-20 md:py-32 relative w-full h-auto gap-y-4 md:gap-y-10">
            
            <!-- Botón de cerrar -->
            <label
              for="toggle-grid"
              class="absolute top-18 -right-5 md:top-36 w-12 h-12 bg-black rounded-full flex items-center justify-center hover:scale-110 hover:rotate-90 transition-all duration-300 cursor-pointer z-30"
              aria-label="Cerrar información sobre nosotros "
            >
              <span class="text-white text-2xl font-bold leading-none" aria-hidden="true">×</span>
            </label>

            <!-- Miembros del equipo -->
            <div class="w-full flex flex-col md:flex-row px-2 sm:px-10 md:px-10 justify-center items-center md:justify-around mx-auto gap-y-2 md:gap-y-2 gap-x-4">
              
              <!-- Primer miembro -->
              <div class="flex flex-col text-center mt-4 order-1">
                <h3 class="text-white font-mango uppercase text-lg md:text-3xl font-bold">
                  {members[0].name}
                </h3>
                <p class="text-black font-mango px-4 md:px-12 text-pretty text-xs md:text-lg font-semibold ">
                  {members[0].description}
                </p>
              </div>

              <!-- Imagen central -->
              <figure class="flex justify-center items-center mx-auto md:-translate-y-10 order-2">
                <img
                  src={members[0].image}
                  alt={members[0].imageAlt}
                  class="h-[35dvh] md:h-[60dvh] w-auto rounded-3xl object-cover shadow-lg"
                  loading="lazy"
                  width="400"
                  height="600"
                />
              </figure>

              <!-- Segundo miembro -->
              <div class="flex flex-col text-center order-3 mt-4">
                <h3 class="text-white font-mango uppercase text-lg md:text-3xl font-bold">
                  {members[1].name}
                </h3>
                <p class="text-black font-mango px-4 md:px-12 text-pretty text-xs md:text-lg font-semibold">
                  {members[1].description}
                </p>
              </div>
            </div>

            <!-- Información del servicio -->
            <div class="flex flex-col justify-center items-center text-center w-full max-w-4xl mx-auto md:px-4 md:mb-7 pt-4 md:pt-2">
              <h3 class="text-white font-mango uppercase text-lg md:text-5xl font-semibold">
                {service.title}
              </h3>
              <p class="text-black font-mango px-2 md:px-20 text-pretty text-xs md:text-xl mt-2 ">
                {service.description}
              </p>
            </div>
          </div>
        </article>
      </div>
    </div>
  </div>
</section>

<style>
  @keyframes moveName {
    to {
      transform: translateX(-100%);
    }
  }
  
  .valamri-font-big {
    animation: moveName 13s linear infinite;
    white-space: nowrap;
    will-change: transform;
  }

  @keyframes fadeBackdrop {
    0% {
      backdrop-filter: blur(0px);
    }
    90% {
      backdrop-filter: blur(2px);
    }
    100% {
      backdrop-filter: blur(20px);
    }
  }
  .fade-backdrop {
    animation: fadeBackdrop 4s linear forwards;
  }

  @keyframes scaleRing {
    0% {
      transform: scale(0.8);
    }
    50 % {
      transform: scale(1.1);
    }
    75% {
      transform: scale(0.9);
    }
    100% {
      transform: scale(0.8);
    }
  }

  #ring-button {
    animation: scaleRing 3s infinite;
  }
  
</style>
